# Анализ предметной области

## Введение

**Тема**: сервис для поиска объявлений среди онлaйн площадок.

**Название**: Best offer finder

**Планируемые внешние интеграции**: парсинг данных с площадок.

**Описание**: сервис представляет собой универсальный инструмент для поиска объявлений среди онлайн площадок, таких как: авито, юла, фарпост. Best offer finder позволит в одной среде рассматривать актуальные объявления с нескольктх площадок сразу, это облегчит поиск и сэкономит время.

## Предметная область

### Целевая аудитория

Целевой аудиторией являются люди, которые часто ищут товары или услуги на вторичных рынках и хотят делать это быстро и удобно — без переключения между сайтами.

Сервис будет особенно полезен студентам, арендаторам, родителям и всем, кто покупает или продаёт б/у вещи — от техники до мебели. Бот позволит отслеживать цены и сравнивать предложения прямо в Telegram.

### Хранимые сущности

#### Сущности и атрибуты

| Сущность         | Атрибуты                                                                  |
|------------------|---------------------------------------------------------------------------|
| объявление       |ID, заголовок, цена, город, дата публикации, ссылка, фото, площадка        |
| Площадка         | Название, домен, тип (товары/услуги/недвижимость)                         |
| Пользователь     | Telegram ID, имя, username, дата регистрации                              | 
| Поисковой запрос | Текст запроса, категория, регион, дата создания                           |
|Подписка на запрос| Пользователь, поисковый запрос, частота уведомлений, активна              |
| Избранное объявл.| Пользователь, объявление, дата добавления                                 |

#### Пример

| Сущность         | Атрибуты                                                                  |
|------------------|---------------------------------------------------------------------------|
| объявление       |123456789, «iPhone 13 128 ГБ», 45000, RUB, Уфа, 2025-04-05,
https://avito.ru/123
..., [ссылка_на_фото], Avito                                                                   |
| Площадка         | Avito, avito.ru, товары                                                   |
| Пользователь     | 987654321, Алексей, @alex_user, 2025-04-01                                | 
| Поисковой запрос | «iPhone 13», Электроника, Уфа, 2025-04-05                                 |
|Подписка на запрос| Алексей, «iPhone 13», ежедневно, да                                       |
| Избранное объявл.| Алексей, iPhone 13 (ID 123456789), 2025-04-06                             | 

#### Особенности

- Одно объявление привязано только к одной площадке, но может попадать в несколько категорий (если поддерживается).
- Один пользователь может создавать множество поисковых запросов и подписываться на них.
- Подписка позволяет получать уведомления о новых объявлениях по заданному запросу.
- Избранное позволяет сохранять интересные объявления для последующего просмотра.

## Проблема и текущее состояние

Существующие решения для поиска объявлений на вторичных рынках либо ограничены одной площадкой, либо требуют постоянного ручного мониторинга. Пользователям приходится переключаться между приложениями, обновлять страницы вручную и терять выгодные предложения из-за отсутствия своевременных уведомлений.

### Основные конкуренты Avito/Юла/FarPost

Источники: avito.ru , youla.ru , farpost.ru

- **Сильные стороны**:  официальные источники с самыми свежими объявлениями, поддержка фильтров, геолокации, чатов с продавцами.
- **Слабые стороны**: нет кроссплатформенного поиска: чтобы найти товар, нужно заходить в каждое приложение отдельно. Отсутствует функция автоматического отслеживания по ключевым запросам с уведомлениями.Нет возможности сохранять и сравнивать объявления из разных площадок в одном месте.

### Существующие проблемы и недостатки

Основные требования к идеальному сервису поиска объявлений:

- Единый интерфейс для поиска по Avito, Юле, FarPost и другим площадкам одновременно.
- Возможность подписываться на запросы и получать уведомления о новых объявлениях в Telegram.
- Хранение избранных объявлений и истории поиска в одном месте.
- Поддержка категорий, регионов и фильтров (цена, дата, тип объявления).
- Стабильная и легальная (насколько возможно) работа без частых блокировок.

Ни один из существующих сервисов не решает все эти задачи в рамках одного удобного, надёжного и универсального инструмента.

## Цель и задачи проекта

Целью проекта является проектирование и разработка Telegram-бота, позволяющего пользователям находить, сравнивать и отслеживать актуальные предложения товаров и услуг с популярных площадок вторичного рынка — Avito, Юла и FarPost — в одном удобном интерфейсе.

Основные задачи:

- Проанализировать предметную область: изучить особенности площадок (Avito, Юла, FarPost), их структуру, ограничения и возможности парсинга.
- Определить функциональные и нефункциональные требования к боту, сформировать техническое задание.
- Спроектировать архитектуру сервиса: структуру базы данных, логику обработки запросов, систему подписок и уведомлений.
- Разработать MVP с поддержкой поиска по ключевым словам, отображения результатов и базовой подписки на обновления.
- Реализовать внешние интеграции: парсинг данных с целевых площадок.
- Провести ручное и автоматизированное тестирование функциональности, устойчивости к блокировкам и корректности данных.
- Написать пользовательскую документацию и инструкцию по использованию бота.
- Развернуть сервис и ввести его в эксплуатацию в Telegram.

## Основные требования

### Функциональные требования

- Поиск объявлений по ключевому слову одновременно на нескольких площадках: Avito, Юла, FarPost.
- Отображение результатов поиска в Telegram: заголовок, цена, город, фото, ссылка на объявление.
- Возможность сохранять объявления в избранное для последующего просмотра.
- Подписка на поисковый запрос с автоматической отправкой новых объявлений по заданным параметрам.
- Фильтрация результатов по цене, дате публикации и типу.
- Хранение истории поисковых запросов и избранных объявлений для каждого пользователя отдельно.
- Уведомления о новых объявлениях в режиме реального времени.
- Интеграция с внешними источниками данных через парсинг целевых площадок.
- Возможность отписаться от запроса или удалить объявление из избранного.

### Нефункциональные требования

- Интерфейс реализован исключительно через Telegram Bot API (без отдельного веб-сайта или мобильного приложения).
- Минималистичный и интуитивно понятный формат сообщений (с кнопками, медиа и краткой информацией).
- Надёжная обработка ошибок парсинга и отказоустойчивость при блокировках или изменениях на целевых сайтах.
- Размещение сервиса в облаке (Yandex Cloud) с возможностью масштабирования.
- Логирование событий и сбор метрик работы бота (количество запросов, ошибок, активных пользователей).
- Покрытие критических модулей (парсинг, обработка команд) автоматизированными тестами.
- Документация по командам бота и схеме работы (для пользователей и разработчиков).
- Поддержка русского языка (основной), с возможностью расширения на другие языки в будущем.

## Оценка ресурсов на разработку

### Временные затраты на разработку MVP

- Блок 1. Планирование и анализ требований - 15 сентября – 28 сентября (2 недели)
- Блок 2. Определение требований - 29 сентября – 5 октября (1 неделя)
- Блок 3. Проектирование - 6 октября – 26 октября (3 недели)
- Блок 4. Разработка - 27 октября – 27 декабря (8 недель)
- Блок 5. Тестирование - 24 ноября – 21 декабря (4 недели)
- Блок 6. Развертывание - 12 января – 31 января (3 недели)

Всего: 21 неделя.

### Финансовые затраты на разработку MVP

- Ставка разработчика: 1000 рублей/час, занятость - 10 часов в неделю.
- Хостинг: бесплатно (домашний сервер).
- Yandex Cloud: временно бесплатный тариф.
- Внешние интеграции и базы данных: парсинг Avito, Юлы и FarPost осуществляется без оплаты API
- ПО для проектирования и разработки: бесплатно.

| Наименование           | Сумма          |
|------------------------|----------------|
| full-stack разработчик | 210 000 рублей |

Итого: 210 000 рублей.
